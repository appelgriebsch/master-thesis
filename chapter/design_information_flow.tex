%!TEX root = ../MasterThesis.tex

\section{Combining \gls{RDF} data sets in the \gls{E-commerce} scenario}
\label{sec:working_semantic_data}

With these methods in place one can now specify how the relevant participants have to provide their information so that they can be combined and analyzed in the collaborative system. This section explains how the different participants might prepare their local context information for external consumption, and how the transactional details from various online merchants can be combined on an individual resource level to be able to analyze and cluster the transactions by different criteria as described in Section~\ref{sec:analyze_transactions}.

\subsection{Preparing internal information for external consumption}
\label{subsec:prepare_information}

As explained in Section~\ref{subsec:etl_process} there are likely \gls{ETL} processes in-use within the \gls{IT} operations of every stakeholder. These processes are usually collecting and combining information from internal data sources for \emph{internal} business analytics, but can also be used to prepare internal data for external consumption. In the latter case the parts of the relevant information for the \gls{E-commerce} fraud investigation have to be extracted from the internal databases and encoded in a \gls{RDF} data set incl. the \gls{RDFS} vocabulary used and required mapping statements to a well-known vocabulary such as Schema.org as shown in Figure~\ref{fig:images_schema_org}.

\subsubsection{Merchant}
\label{subsub:prep_info_merchant}

The merchants should be able to provide \gls{RDF} encoded information for their orders based on a given payment token or based on a consumer identification. The former selector is likely used in the initial phase of collecting all required information of orders that have been done with a credit card recently. The latter one is of interest if there are malicious transactions found for a consumer and a merchant has to provide additional order details coming from that consumer. \\

The merchants provide the following information in \gls{RDF}:\@

\begin{itemize}
  \item \textbf{product-related information:} as part of the order details the merchants have more information about the products that have been bought by a consumer. These information include the brand, model as well as product categories of each item within an order. If merchants provide these information in \gls{RDFa} on their Web shops already, they can refer to those data via the ``rdfs:seeAlso'' predicate, which holds an \gls{URI} to an external resource that contains additional information for the subject (see Listing~\ref{lst:rdfs_seeAlso_order} for an example). Additionally, the product-related information might be available in different languages on the Web shop. The merchants should use the English expression for each textual identifier in the \gls{RDF} data set and specify language-dependent terms via the ``rdfs:label'' predicate that usually contains a human-friendly name of the resource and supports language specifiers for such cases (see Listing~\ref{lst:rdfs_label_language} for an example).
  \item \textbf{consumer-related information:} as part of the order details the merchants also have the personal related information of the buyer incl.\ billing and shipping addresses.
  \item \textbf{merchant-related information:} the merchants also provide information about themselves such as the retail branch they are operating in.
\end{itemize}

\begin{listing}[H]
  \inputminted[linenos,
               numbersep=5pt,
               breaklines=true,
               frame=lines]{TURTLE}
               {./samples/sample_customer_order.ttl}
  \caption[Specifying a link to a Web site for looking up product-related information in \gls{RDF}]{Specifying a link to a Web site for looking up product-related information in \gls{RDF}\protect\footnotemark}
\label{lst:rdfs_seeAlso_order}
\end{listing}

\footnotetext{Please note that the application has to resolve the \gls{URI} and embed the external \gls{RDF} data set at this position.}

\begin{listing}[H]
  \inputminted[linenos,
               numbersep=5pt,
               breaklines=true,
               frame=lines]{TURTLE}
               {./samples/sample_product_with_labels.ttl}
  \caption[Specifying a product with labels in three different languages in \gls{RDF}]{Specifying a product with labels in three different languages in \gls{RDF}\protect\footnotemark}
\label{lst:rdfs_label_language}
\end{listing}

\footnotetext{Please note that the name of the product has been stated without a language specifier, which makes it valid globally.}

\subsubsection{Payment Service Provider}
\label{subsub:prep_info_psp}

The \gls{PSP}s provide information about a payment token and the authorization request that belongs to it. These information are required to link the credit card to the order information from a merchant.

\subsubsection{Logistic Service Provider}
\label{subsub:prep_info_lsp}

The \gls{LSP}s provide information about a tracking number and the delivery status of an order. If the recipients have to show their ID card and have to place a signature on the delivery receipt, the \gls{LSP}s can also hand over personal related information about them.

\subsubsection{Issuer}
\label{subsub:prep_info_issuer}

The issuers provide information about a credit card and its owner incl.\ personal related information.

\subsection{Merging transactional information from various sources}
\label{subsec:information_mapping}

Still, if the transactional details from various online merchants have to be linked together on the individual entity level to support analyzing and clustering the information on different aspects, the build-in merging capabilities of the \gls{RDF} specification will rely on unique \gls{URI}s used for the same entities found in different \gls{RDF} data sets as shown in the Section~\ref{subsec:web_data}. These unique \gls{URI}s are used to identify the resources in a dispersed \gls{RDF} data set. \@

\begin{itemize}
	\item \textbf{owl:sameAs, schema:sameAs}: the ``owl:sameAs'' as well as the ``schema:sameAs'' relations are providing an unique \gls{URI} that unambiguously define the subject (see Listing~\ref{lst:schema_sameAs_location} for an example)
\end{itemize}

\begin{listing}[H]
  \inputminted[linenos,
               numbersep=5pt,
               breaklines=true,
               frame=lines]{TURTLE}
               {./samples/sample_customer_location.ttl}
  \caption{Specifying a link to a DBpedia resource to uniquely identify an entity in \gls{RDF}}
\label{lst:schema_sameAs_location}
\end{listing}

When looking at the \gls{E-commerce} transaction schema as defined in Section~\ref{sec:data_model_transactions} the following information must be uniquely identified and mapped within the \gls{RDF} data sets coming from the participants of the collaborative system: \@

\begin{itemize}
	\item \textbf{personal related information} such as the consumer, recipient and credit card owner
	\item \textbf{location based information} such as the billing and shipping address as well as the location a credit card owner is registered for
	\item \textbf{product related information} such as the categories, subcategories, brand, model and item description
	\item \textbf{merchant related information} such as the branch of a merchant
\end{itemize}

To support the unique identification of entities in the \gls{RDF} data set of an \gls{E-commerce} transaction, one can refer to publicly available \gls{RDF} data sets on the Internet, such as GeoNames or DBpedia. These can provide an unique \gls{URI} for locations and named places. A product-related \gls{RDF} data set was available in form of the ProductDB initiative until recently \citep{bouzidi2014product}. Due to the shutdown of it, the mapping of products can no longer be done by referencing unique \gls{URI}s from the Web, but will have to be based on the global trade item number (aka \gls{GTIN}) of each product. Additional aspects of an item, such as brand, categories and subcategories, can be found on DBpedia as well. \\

A problem, that will come up, is the unique addressing of personal related information, such as identifying the consumer. The collaborative system can not rely on mapping the personal related information based on properties such as familyName and givenName alone (see Listing~\ref{lst:sample_customer_mustermann}). There could be typos in the information coming from various \gls{RDF} data sets, and different individuals can still have the same name information. One possible approach to bring these information together would be the mapping based on the e-mail address of the individual. An e-mail address like an \gls{URI} is a globally unique addressing scheme, and one can assume that two entities, who are using to the same e-mail address, are referring to the same entity. Still this is only a weak hint as an individual can have more than one e-mail address, and could use different e-mail addresses for the online shopping trips at different merchants. Therefore a more sophisticated mapping algorithm for personal related information is needed in the collaborative system. This algorithm may take into account the combination of familyName, givenName, dateOfBirth as well as location-based information to uniquely identify an individual. To sum up, the identification of important entities from an \gls{E-commerce} transaction can be based on the following aspects (see Table~\ref{tab:mapping_information}): \@

\begin{table}[H]
\centering
\begin{tabular}{lllp{4cm}}
\hline
\textbf{Entity} & \textbf{Unique Identifier} & \textbf{Public Data Set} & \textbf{Example} \\
\hline
Person & eventually e-Mail address & n/a & \url{mailto:max.mustermann@t-online.de} \\
\hline
PostalAddress & Location, Position & Geo Names & \url{http://sws.geonames.org/2886242/} \\
\hline
Item & \gls{GTIN}, \gls{ISBN} & n/a & \url{gtin:9781617290398} \\
\hline
Brand & Name & DBpedia & \url{http://dbpedia.org/resource/Samsung} \\
\hline
Organization & Web Site \gls{URL} & n/a & \url{http://www.samsung.com} \\
\hline
\end{tabular}
\caption{List of possible criteria to uniquely identify entities of an \gls{E-commerce} transaction}
\label{tab:mapping_information}
\end{table}

% subsec information_mapping (end)

% sec provide_information (end)
